<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‚è≥ Cuenta Regresiva - XV de Dana üëë</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚è≥</text></svg>">
    
    <!-- Fuentes premium -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --rosa-claro: #ffeef5;
            --rosa-medio: #ffb8d9;
            --rosa-fuerte: #ff4da6;
            --rosa-oscuro: #d81b7a;
            --dorado: #ffd700;
            --dorado-oscuro: #daa520;
            --blanco: #ffffff;
            --negro: #1a1a1a;
            --texto: #4a2c3a;
            --sombra: rgba(0, 0, 0, 0.15);
            --gradiente-rosa: linear-gradient(135deg, #ff9ec0 0%, #ff6b9d 50%, #ff4da6 100%);
            --gradiente-dorado: linear-gradient(135deg, #ffd700 0%, #ffed4e 50%, #daa520 100%);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--rosa-claro) 0%, #fff0f9 50%, #fff9f0 100%);
            color: var(--texto);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Fondo decorativo */
        .fondo-decorativo {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            opacity: 0.4;
            background-image: 
                radial-gradient(circle at 15% 15%, rgba(255, 77, 166, 0.2) 0%, transparent 30%),
                radial-gradient(circle at 85% 85%, rgba(255, 77, 166, 0.2) 0%, transparent 30%),
                radial-gradient(circle at 50% 50%, rgba(255, 215, 0, 0.15) 0%, transparent 40%);
        }
        
        /* Part√≠culas flotantes */
        .particula {
            position: fixed;
            z-index: -1;
            opacity: 0.6;
            pointer-events: none;
        }
        
        .corazon {
            color: var(--rosa-fuerte);
            animation: flotar-corazon 8s infinite ease-in-out;
            font-size: 1.8rem;
        }
        
        .estrella {
            color: var(--dorado);
            animation: brillar 4s infinite ease-in-out;
            font-size: 1.5rem;
        }
        
        .circulo {
            background: var(--rosa-medio);
            border-radius: 50%;
            animation: flotar-circulo 10s infinite ease-in-out;
        }
        
        /* Contenedor principal */
        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 10;
        }
        
        /* Tarjeta principal */
        .tarjeta {
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            box-shadow: 
                0 25px 60px rgba(255, 77, 166, 0.15),
                0 5px 15px rgba(0, 0, 0, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
            margin-bottom: 30px;
            width: 100%;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .tarjeta::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: var(--gradiente-rosa);
            border-radius: 30px 30px 0 0;
        }
        
        /* Encabezado */
        .encabezado {
            margin-bottom: 40px;
            position: relative;
        }
        
        .corona-encabezado {
            font-size: 4rem;
            color: var(--dorado-oscuro);
            margin-bottom: 15px;
            filter: drop-shadow(0 0 10px rgba(218, 165, 32, 0.3));
            animation: girar-corona 20s infinite linear;
        }
        
        .titulo-principal {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: var(--rosa-oscuro);
            margin-bottom: 15px;
            line-height: 1.1;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .subtitulo {
            font-size: 1.3rem;
            color: var(--texto);
            opacity: 0.85;
            font-weight: 400;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .destacado-fecha {
            display: inline-block;
            background: linear-gradient(135deg, var(--rosa-fuerte), var(--rosa-oscuro));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
            position: relative;
        }
        
        .destacado-fecha::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--rosa-fuerte), transparent);
        }
        
        /* Contador */
        .contador {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0 50px;
            flex-wrap: wrap;
        }
        
        .unidad-tiempo {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 25px 15px;
            min-width: 130px;
            box-shadow: 
                0 10px 25px rgba(255, 77, 166, 0.1),
                inset 0 0 0 1px rgba(255, 182, 193, 0.3);
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .unidad-tiempo:hover {
            transform: translateY(-10px);
            box-shadow: 
                0 15px 35px rgba(255, 77, 166, 0.2),
                inset 0 0 0 1px rgba(255, 182, 193, 0.5);
        }
        
        .valor {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            font-weight: 700;
            color: var(--rosa-oscuro);
            line-height: 1;
            margin-bottom: 5px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.05);
        }
        
        .etiqueta {
            font-size: 1.1rem;
            color: var(--texto);
            opacity: 0.8;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* Separador */
        .separador {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 10px 0 30px;
            color: var(--rosa-fuerte);
            font-size: 2rem;
            font-weight: 300;
        }
        
        /* Mensaje */
        .mensaje-contenedor {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 25px;
            margin: 30px 0;
            border-left: 5px solid var(--rosa-fuerte);
            position: relative;
            overflow: hidden;
        }
        
        .mensaje-contenedor::before {
            content: "‚ú®";
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 2rem;
            opacity: 0.3;
        }
        
        .mensaje-titulo {
            font-family: 'Dancing Script', cursive;
            font-size: 2.2rem;
            color: var(--rosa-oscuro);
            margin-bottom: 15px;
        }
        
        .mensaje-texto {
            font-size: 1.1rem;
            line-height: 1.7;
            color: var(--texto);
            margin-bottom: 15px;
        }
        
        .destacado {
            font-weight: 600;
            color: var(--rosa-oscuro);
            background: rgba(255, 182, 193, 0.2);
            padding: 3px 8px;
            border-radius: 5px;
        }
        
        /* Botones */
        .botones-contenedor {
            display: flex;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .btn {
            border: none;
            border-radius: 50px;
            padding: 18px 35px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            position: relative;
            overflow: hidden;
            z-index: 1;
            min-width: 200px;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.7s ease;
            z-index: -1;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn-principal {
            background: var(--gradiente-rosa);
            color: var(--blanco);
            box-shadow: 0 10px 25px rgba(255, 77, 166, 0.4);
        }
        
        .btn-principal:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(255, 77, 166, 0.6);
        }
        
        .btn-secundario {
            background: rgba(255, 255, 255, 0.9);
            color: var(--rosa-oscuro);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border: 2px solid var(--rosa-medio);
        }
        
        .btn-secundario:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
            background: rgba(255, 255, 255, 1);
        }
        
        /* Progreso */
        .barra-progreso {
            width: 100%;
            height: 12px;
            background: rgba(255, 182, 193, 0.3);
            border-radius: 10px;
            margin: 40px 0 20px;
            overflow: hidden;
            position: relative;
        }
        
        .progreso {
            height: 100%;
            background: var(--gradiente-rosa);
            border-radius: 10px;
            width: 0%;
            transition: width 1s ease;
            position: relative;
            overflow: hidden;
        }
        
        .progreso::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: brillo-barra 2s infinite;
        }
        
        .texto-progreso {
            font-size: 1rem;
            color: var(--texto);
            opacity: 0.8;
            margin-bottom: 30px;
            text-align: center;
        }
        
        /* Pie de p√°gina */
        .pie-pagina {
            margin-top: 30px;
            font-size: 0.9rem;
            color: var(--texto);
            opacity: 0.7;
            text-align: center;
            max-width: 600px;
            line-height: 1.6;
        }
        
        /* Modal de redirecci√≥n */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        
        .modal.activo {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-contenido {
            background: var(--blanco);
            border-radius: 30px;
            padding: 50px 40px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 30px 70px rgba(0, 0, 0, 0.3);
            transform: scale(0.9);
            transition: transform 0.5s ease;
            position: relative;
            overflow: hidden;
        }
        
        .modal.activo .modal-contenido {
            transform: scale(1);
        }
        
        .modal-contenido::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 10px;
            background: var(--gradiente-dorado);
        }
        
        .modal-titulo {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            color: var(--rosa-oscuro);
            margin-bottom: 20px;
        }
        
        .modal-texto {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 30px;
            color: var(--texto);
        }
        
        .contador-redireccion {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--rosa-fuerte);
            margin: 30px 0;
            font-family: 'Playfair Display', serif;
        }
        
        /* Animaciones */
        @keyframes flotar-corazon {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-30px) rotate(10deg);
            }
        }
        
        @keyframes brillar {
            0%, 100% {
                opacity: 0.6;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.2);
            }
        }
        
        @keyframes flotar-circulo {
            0%, 100% {
                transform: translateY(0) translateX(0);
            }
            25% {
                transform: translateY(-20px) translateX(10px);
            }
            50% {
                transform: translateY(-10px) translateX(-10px);
            }
            75% {
                transform: translateY(-30px) translateX(5px);
            }
        }
        
        @keyframes girar-corona {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        
        @keyframes brillo-barra {
            0% {
                transform: translateX(-100%);
            }
            100% {
                transform: translateX(100%);
            }
        }
        
        @keyframes latido {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .titulo-principal {
                font-size: 2.8rem;
            }
            
            .subtitulo {
                font-size: 1.1rem;
            }
            
            .contador {
                gap: 15px;
            }
            
            .unidad-tiempo {
                min-width: 110px;
                padding: 20px 10px;
            }
            
            .valor {
                font-size: 2.8rem;
            }
            
            .btn {
                min-width: 180px;
                padding: 16px 25px;
                font-size: 1.1rem;
            }
            
            .botones-contenedor {
                flex-direction: column;
                align-items: center;
            }
        }
        
        @media (max-width: 480px) {
            .tarjeta {
                padding: 30px 20px;
            }
            
            .titulo-principal {
                font-size: 2.3rem;
            }
            
            .corona-encabezado {
                font-size: 3rem;
            }
            
            .unidad-tiempo {
                min-width: 90px;
                padding: 15px 8px;
            }
            
            .valor {
                font-size: 2.2rem;
            }
            
            .etiqueta {
                font-size: 0.9rem;
            }
            
            .modal-contenido {
                padding: 40px 25px;
            }
            
            .modal-titulo {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Fondo decorativo -->
    <div class="fondo-decorativo"></div>
    
    <!-- Part√≠culas flotantes -->
    <div id="particulas-container"></div>
    
    <!-- Contenedor principal -->
    <div class="container">
        <!-- Tarjeta principal -->
        <div class="tarjeta">
            <!-- Encabezado -->
            <div class="encabezado">
                <div class="corona-encabezado">üëë</div>
                <h1 class="titulo-principal">Cuenta Regresiva</h1>
                <h2 class="subtitulo">
                    Para el <span class="destacado-fecha">20 de Enero</span> a las <span class="destacado-fecha">00:00 horas</span><br>
                    <span style="font-size: 1.1rem; display: block; margin-top: 8px;"></span>
                </h2>
            </div>
            
            <!-- Contador -->
            <div class="contador">
                <div class="unidad-tiempo">
                    <div class="valor" id="dias">00</div>
                    <div class="etiqueta">D√≠as</div>
                </div>
                
                <div class="separador">:</div>
                
                <div class="unidad-tiempo">
                    <div class="valor" id="horas">00</div>
                    <div class="etiqueta">Horas</div>
                </div>
                
                <div class="separador">:</div>
                
                <div class="unidad-tiempo">
                    <div class="valor" id="minutos">00</div>
                    <div class="etiqueta">Minutos</div>
                </div>
                
                <div class="separador">:</div>
                
                <div class="unidad-tiempo">
                    <div class="valor" id="segundos">00</div>
                    <div class="etiqueta">Segundos</div>
                </div>
            </div>
            
            <!-- Barra de progreso -->
            <div class="barra-progreso">
                <div class="progreso" id="barra-progreso"></div>
            </div>
            <div class="texto-progreso" id="texto-progreso">Esperando el gran momento...</div>
            
            <!-- Mensaje -->
            <div class="mensaje-contenedor">
                <h3 class="mensaje-titulo">Un regalo especial te espera</h3>
                <p class="mensaje-texto">
                    Cuando el contador llegue a cero, ser√°s redirigida autom√°ticamente a una 
                    <span class="destacado">sorpresa especial</span> creada especialmente para celebrar tus XV a√±os, Dana.
                </p>
                <p class="mensaje-texto">
                    Mientras tanto, puedes escuchar m√∫sica o ver una vista previa de lo que te espera.
                </p>
            </div>
            
            <!-- Botones -->
            <div class="botones-contenedor">
                <button class="btn btn-principal" id="btn-preview">
                    <i class="fas fa-eye"></i>
                    Vista Previa
                </button>
                <button class="btn btn-secundario" id="btn-musica">
                    <i class="fas fa-music"></i>
                    Escuchar M√∫sica
                </button>
            </div>
        </div>
        
        <!-- Pie de p√°gina -->
        <div class="pie-pagina">
            <p></p>
            <p style="margin-top: 10px; font-size: 0.8rem;">
               
            </p>
        </div>
    </div>
    
    <!-- Modal de redirecci√≥n -->
    <div class="modal" id="modal-redireccion">
        <div class="modal-contenido">
            <div class="corona-encabezado" style="font-size: 4rem; margin-bottom: 20px;">üéâ</div>
            <h2 class="modal-titulo">¬°Es el momento!</h2>
            <p class="modal-texto">
                Ha llegado el d√≠a esperado. ¬°Felices XV, Dana!<br>
                Ser√°s redirigida a tu regalo especial en...
            </p>
            <div class="contador-redireccion" id="contador-redireccion">5</div>
            <p class="modal-texto" style="font-size: 1rem; opacity: 0.8;">
                Si la redirecci√≥n no funciona, haz clic en el bot√≥n de abajo
            </p>
            <button class="btn btn-principal" id="btn-redirigir-manual">
                <i class="fas fa-gift"></i>
                Ver Mi Regalo
            </button>
        </div>
    </div>
    
    <!-- Audio para m√∫sica de fondo -->
    <audio id="musica-fondo" loop>
        <!-- Se puede agregar una URL de m√∫sica suave de fondo -->
    </audio>

    <script>
        // Elementos del DOM
        const diasElement = document.getElementById('dias');
        const horasElement = document.getElementById('horas');
        const minutosElement = document.getElementById('minutos');
        const segundosElement = document.getElementById('segundos');
        const barraProgreso = document.getElementById('barra-progreso');
        const textoProgreso = document.getElementById('texto-progreso');
        const btnPreview = document.getElementById('btn-preview');
        const btnMusica = document.getElementById('btn-musica');
        const modalRedireccion = document.getElementById('modal-redireccion');
        const contadorRedireccion = document.getElementById('contador-redireccion');
        const btnRedirigirManual = document.getElementById('btn-redirigir-manual');
        const musicaFondo = document.getElementById('musica-fondo');
        const particulasContainer = document.getElementById('particulas-container');
        
        // Fecha objetivo: 20 de enero a las 00:00 hora Colombia (UTC-5)
        // Nota: Colombia no tiene horario de verano, siempre es UTC-5
        const fechaObjetivo = new Date('2026-01-20T00:00:00-05:00');
        
        // Variables de estado
        let intervaloContador;
        let musicaActiva = false;
        let redireccionEnCurso = false;
        
        // Crear part√≠culas decorativas
        function crearParticulas() {
            const tipos = ['corazon', 'estrella', 'circulo'];
            const colores = ['#ff4da6', '#ff6b9d', '#ff9ec0', '#ffd700', '#ffed4e'];
            
            for (let i = 0; i < 25; i++) {
                const particula = document.createElement('div');
                const tipo = tipos[Math.floor(Math.random() * tipos.length)];
                
                particula.className = `particula ${tipo}`;
                
                // Posici√≥n aleatoria
                particula.style.left = `${Math.random() * 100}vw`;
                particula.style.top = `${Math.random() * 100}vh`;
                
                // Para c√≠rculos, tama√±o y color aleatorios
                if (tipo === 'circulo') {
                    const size = Math.random() * 20 + 10;
                    particula.style.width = `${size}px`;
                    particula.style.height = `${size}px`;
                    particula.style.backgroundColor = colores[Math.floor(Math.random() * colores.length)];
                    particula.style.opacity = Math.random() * 0.4 + 0.2;
                    
                    // Animaci√≥n √∫nica para c√≠rculos
                    const duration = Math.random() * 20 + 10;
                    const delay = Math.random() * 5;
                    particula.style.animation = `flotar-circulo ${duration}s ease-in-out ${delay}s infinite`;
                } else {
                    // Para corazones y estrellas
                    particula.style.fontSize = `${Math.random() * 1.5 + 1}rem`;
                    particula.style.opacity = Math.random() * 0.5 + 0.3;
                }
                
                particulasContainer.appendChild(particula);
            }
        }
        
        // Calcular tiempo restante
        function calcularTiempoRestante() {
            const ahora = new Date();
            const diferencia = fechaObjetivo - ahora;
            
            // Si ya lleg√≥ la fecha
            if (diferencia <= 0) {
                detenerContador();
                iniciarRedireccion();
                return { dias: 0, horas: 0, minutos: 0, segundos: 0 };
            }
            
            // Calcular d√≠as, horas, minutos y segundos
            const dias = Math.floor(diferencia / (1000 * 60 * 60 * 24));
            const horas = Math.floor((diferencia % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutos = Math.floor((diferencia % (1000 * 60 * 60)) / (1000 * 60));
            const segundos = Math.floor((diferencia % (1000 * 60)) / 1000);
            
            return { dias, horas, minutos, segundos };
        }
        
        // Actualizar contador
        function actualizarContador() {
            const { dias, horas, minutos, segundos } = calcularTiempoRestante();
            
            // Actualizar elementos del DOM
            diasElement.textContent = dias.toString().padStart(2, '0');
            horasElement.textContent = horas.toString().padStart(2, '0');
            minutosElement.textContent = minutos.toString().padStart(2, '0');
            segundosElement.textContent = segundos.toString().padStart(2, '0');
            
            // Calcular progreso total (desde el 19 de enero a las 00:00)
            const fechaInicio = new Date('2024-01-19T00:00:00-05:00');
            const fechaFin = fechaObjetivo;
            const tiempoTotal = fechaFin - fechaInicio;
            const tiempoTranscurrido = new Date() - fechaInicio;
            
            let porcentajeProgreso = 0;
            
            if (tiempoTranscurrido > 0) {
                porcentajeProgreso = Math.min((tiempoTranscurrido / tiempoTotal) * 100, 100);
            }
            
            // Actualizar barra de progreso
            barraProgreso.style.width = `${porcentajeProgreso}%`;
            
            // Actualizar texto de progreso
            if (porcentajeProgreso < 1) {
                textoProgreso.textContent = "Esperando el inicio de la cuenta regresiva...";
            } else if (porcentajeProgreso < 100) {
                const horasRestantes = Math.floor((fechaObjetivo - new Date()) / (1000 * 60 * 60));
                
                if (horasRestantes > 24) {
                    textoProgreso.textContent = `Faltan ${dias} d√≠as y ${horas} horas para el gran momento`;
                } else if (horasRestantes > 1) {
                    textoProgreso.textContent = `Faltan ${horasRestantes} horas para el gran momento`;
                } else if (horasRestantes === 1) {
                    textoProgreso.textContent = "¬°Solo falta 1 hora! Prep√°rate...";
                } else {
                    textoProgreso.textContent = `¬°Quedan ${minutos} minutos! Casi es la hora`;
                }
            }
            
            // Si lleg√≥ la hora, iniciar redirecci√≥n
            if (dias === 0 && horas === 0 && minutos === 0 && segundos === 0) {
                detenerContador();
                iniciarRedireccion();
            }
        }
        
        // Detener contador
        function detenerContador() {
            if (intervaloContador) {
                clearInterval(intervaloContador);
            }
        }
        
        // Iniciar redirecci√≥n
        function iniciarRedireccion() {
            if (redireccionEnCurso) return;
            
            redireccionEnCurso = true;
            
            // Mostrar modal
            modalRedireccion.classList.add('activo');
            
            // Iniciar contador de redirecci√≥n
            let segundosRedireccion = 5;
            contadorRedireccion.textContent = segundosRedireccion;
            
            const intervaloRedireccion = setInterval(() => {
                segundosRedireccion--;
                contadorRedireccion.textContent = segundosRedireccion;
                
                if (segundosRedireccion <= 0) {
                    clearInterval(intervaloRedireccion);
                    redirigir();
                }
            }, 1000);
        }
        
        // Redirigir a la p√°gina de Dana
        function redirigir() {
            // Intentar redirigir autom√°ticamente
            window.location.href = 'dana.html';
            
            // Como respaldo, despu√©s de 3 segundos, mostrar mensaje
            setTimeout(() => {
                if (window.location.pathname.endsWith('index.html')) {
                    contadorRedireccion.textContent = "¬°Redirigiendo!";
                    document.getElementById('btn-redirigir-manual').style.display = 'block';
                }
            }, 3000);
        }
        
        // Alternar m√∫sica de fondo
        function alternarMusica() {
            musicaActiva = !musicaActiva;
            
            if (musicaActiva) {
                // Aqu√≠ se podr√≠a agregar una URL de m√∫sica suave
                // musicaFondo.src = 'Dana.mp3';
                
                musicaFondo.play().catch(e => {
                    console.log('Error al reproducir m√∫sica:', e);
                    musicaActiva = false;
                    btnMusica.innerHTML = '<i class="fas fa-music"></i> Activar M√∫sica';
                });
                
                btnMusica.innerHTML = '<i class="fas fa-volume-up"></i> Desactivar M√∫sica';
            } else {
                musicaFondo.pause();
                btnMusica.innerHTML = '<i class="fas fa-music"></i> Activar M√∫sica';
            }
        }
        
        // Vista previa (podr√≠a mostrar un peque√±o adelanto)
        function mostrarPreview() {
            // Crear un peque√±o modal con un mensaje de vista previa
            const modalPreview = document.createElement('div');
            modalPreview.className = 'modal';
            modalPreview.style.display = 'flex';
            modalPreview.style.opacity = '0';
            modalPreview.style.visibility = 'hidden';
            modalPreview.style.transition = 'opacity 0.3s ease, visibility 0.3s ease';
            
            modalPreview.innerHTML = `
                <div class="modal-contenido" style="transform: scale(0.9); transition: transform 0.3s ease;">
                    <div class="corona-encabezado" style="font-size: 3rem; margin-bottom: 15px;">üéÅ</div>
                    <h2 class="modal-titulo" style="font-size: 2.5rem;">Vista Previa</h2>
                    <p class="modal-texto">
                        Tu regalo especial es una <strong>carta digital interactiva</strong> con m√∫sica, 
                        animaciones y mensajes personalizados para celebrar tus XV a√±os.
                    </p>
                    <p class="modal-texto" style="font-style: italic; margin-top: 15px;">
                        Tendr√°s que esperar hasta la medianoche para verlo completo...
                    </p>
                    <button class="btn btn-principal" id="btn-cerrar-preview" style="margin-top: 20px;">
                        <i class="fas fa-times"></i>
                        Cerrar
                    </button>
                </div>
            `;
            
            document.body.appendChild(modalPreview);
            
            // Mostrar modal
            setTimeout(() => {
                modalPreview.style.opacity = '1';
                modalPreview.style.visibility = 'visible';
                modalPreview.querySelector('.modal-contenido').style.transform = 'scale(1)';
            }, 10);
            
            // Cerrar modal
            const btnCerrarPreview = document.getElementById('btn-cerrar-preview');
            btnCerrarPreview.addEventListener('click', () => {
                modalPreview.style.opacity = '0';
                modalPreview.style.visibility = 'hidden';
                modalPreview.querySelector('.modal-contenido').style.transform = 'scale(0.9)';
                
                setTimeout(() => {
                    document.body.removeChild(modalPreview);
                }, 300);
            });
            
            // Cerrar al hacer clic fuera
            modalPreview.addEventListener('click', (e) => {
                if (e.target === modalPreview) {
                    modalPreview.style.opacity = '0';
                    modalPreview.style.visibility = 'hidden';
                    modalPreview.querySelector('.modal-contenido').style.transform = 'scale(0.9)';
                    
                    setTimeout(() => {
                        document.body.removeChild(modalPreview);
                    }, 300);
                }
            });
        }
        
        // Inicializar cuando se carga la p√°gina
        function inicializar() {
            // Crear part√≠culas decorativas
            crearParticulas();
            
            // Actualizar contador inmediatamente
            actualizarContador();
            
            // Iniciar intervalo del contador (cada segundo)
            intervaloContador = setInterval(actualizarContador, 1000);
            
            // Configurar eventos
            btnMusica.addEventListener('click', alternarMusica);
            btnPreview.addEventListener('click', mostrarPreview);
            btnRedirigirManual.addEventListener('click', redirigir);
            
            // Configurar m√∫sica de fondo
            musicaFondo.volume = 0.3;
            
            // Para compatibilidad con iOS
            document.addEventListener('touchstart', () => {
                // Inicializar audio en iOS
                if (musicaActiva && musicaFondo.paused) {
                    musicaFondo.play().catch(e => console.log('iOS audio:', e));
                }
            }, { once: true });
            
            // Verificar si ya es la hora
            const ahora = new Date();
            if (ahora >= fechaObjetivo) {
                detenerContador();
                iniciarRedireccion();
            }
            
            // Mostrar informaci√≥n en consola para depuraci√≥n
            console.log('Fecha objetivo:', fechaObjetivo.toLocaleString('es-CO', { timeZone: 'America/Bogota' }));
            console.log('Hora actual Colombia:', ahora.toLocaleString('es-CO', { timeZone: 'America/Bogota' }));
        }
        
        // Inicializar cuando se carga el DOM
        document.addEventListener('DOMContentLoaded', inicializar);
        
        // Manejar la visibilidad de la p√°gina
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                // Pausar m√∫sica cuando la pesta√±a no est√° activa
                if (musicaActiva && !musicaFondo.paused) {
                    musicaFondo.pause();
                }
            } else {
                // Reanudar m√∫sica cuando la pesta√±a vuelve a estar activa
                if (musicaActiva && musicaFondo.paused) {
                    musicaFondo.play().catch(e => console.log('Error al reanudar m√∫sica:', e));
                }
            }
   
    </script>
</body>
</html
